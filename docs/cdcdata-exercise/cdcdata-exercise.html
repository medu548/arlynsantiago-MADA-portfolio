<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.542">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Arlyn Santiago">

<title>Arlyn Santiago Data Analysis Portfolio - cdcdata-exercise</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Arlyn Santiago Data Analysis Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../aboutme.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../starter-analysis-exercise/products/report/starter-analysis-report.html">
 <span class="dropdown-text">Starter Analysis Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../coding-exercise/coding-exercise.html">
 <span class="dropdown-text">R Coding Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../presentation-exercise/presentation-exercise.html">
 <span class="dropdown-text">Presentation Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tidytuesday-exercise/tidytuesday-exercise.html">
 <span class="dropdown-text">Tidy Tuesday Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../data-exercise/data-exercise.html">
 <span class="dropdown-text">Data Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cdcdata-exercise/cdcdata-exercise.html">
 <span class="dropdown-text">CDC Data Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../fitting-exercise/fitting-exercise.html">
 <span class="dropdown-text">Fitting Exercise</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/medu548/arlynsantiago-MADA-portfolio"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">cdcdata-exercise</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Arlyn Santiago </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; Updated upstream</p>
<section id="cdc-data-exploration-quarterly-provisional-estimates-for-selected-birth-indicators" class="level1">
<h1>CDC Data Exploration: Quarterly Provisional Estimates for Selected Birth Indicators</h1>
<section id="description-of-the-data" class="level3">
<h3 class="anchored" data-anchor-id="description-of-the-data">Description of the data</h3>
<p>This dataset comes from the National Center for Immunization and Respiratory Diseases (NCIRD). The data is a quarterly release of provisional estimates of selected reproductive indicators including general fertility rates, age-specific birth rates, total and low-risk cesarean delivery rates, preterm birth rates, and other gestational age categories. Data on RSV vaccinations among pregnant persons was available starting September 22, 2023, and includes doses received starting September 24, 2023.</p>
<p>The dataset can be found on <a href="https://data.cdc.gov/Pregnancy-Vaccination/Weekly-Respiratory-Syncytial-Virus-RSV-Vaccination/g4jn-64pd/about_data.">CDC website</a>.</p>
</section>
<section id="reading-in-the-data" class="level3">
<h3 class="anchored" data-anchor-id="reading-in-the-data">Reading in the data</h3>
<p>Here, I loaded all the packages I will use for this data exercise, listed below. I also read in the data from the csv file, and I called the data <code>cdcdata</code>. We can see that there are 7 variables and 162 observations. This dataset has multiple indicators stacked on top of each other. For example, within the data there are columns for “Week_Ending_Date”, “Race and Ethnicity,” etc.,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Loading packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#This includes ggplot2, tidyr, readr, dplyr, stringr, purr, forcats</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.4.4     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/valeriasantiago/Documents/arlynsantiago-MADA-portfolio</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#This is used to build common complex tables and manipulate table styles. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'

The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Reading in the csv file</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>cdcdata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>, <span class="st">"Weekly_Respiratory_Syncytial_Virus__RSV__Vaccination_Coverage_among_Pregnant_Persons_by_Race_and_Ethnicity_20240207.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 162 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): Week_Ending_Date, Race and Ethnicity
dbl (5): Percent, Denominator, Date Order, Race Sort Order, Figure_ID

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking the packaging (displaying first and last few rows of data)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 162</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Showing the structure</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [162 × 7] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Week_Ending_Date  : chr [1:162] "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" ...
 $ Race and Ethnicity: chr [1:162] "American Indian / Alaska Native, NH" "Asian, NH" "Black, NH" "Hispanic/Latino" ...
 $ Percent           : num [1:162] 0 0 0 0 0 0 0 0 0 0 ...
 $ Denominator       : num [1:162] 57 2897 1315 7072 734 ...
 $ Date Order        : num [1:162] 1 1 1 1 1 1 1 1 1 2 ...
 $ Race Sort Order   : num [1:162] 1 2 3 4 5 6 7 8 9 1 ...
 $ Figure_ID         : num [1:162] 1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "spec")=
  .. cols(
  ..   Week_Ending_Date = col_character(),
  ..   `Race and Ethnicity` = col_character(),
  ..   Percent = col_double(),
  ..   Denominator = col_double(),
  ..   `Date Order` = col_double(),
  ..   `Race Sort Order` = col_double(),
  ..   Figure_ID = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Get column names</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Week_Ending_Date"   "Race and Ethnicity" "Percent"           
[4] "Denominator"        "Date Order"         "Race Sort Order"   
[7] "Figure_ID"         </code></pre>
</div>
</div>
<p>I am seeing many Unknown Values within my dataset in the Race/Ethnicity column so I will try and filter those out with the assistance of AI written code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Examining data again </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Week_Ending_Date       `Race and Ethnicity`   Percent Denominator `Date Order`
  &lt;chr&gt;                  &lt;chr&gt;                    &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 09/30/2023 12:00:00 AM American Indian / Ala…       0          57            1
2 09/30/2023 12:00:00 AM Asian, NH                    0        2897            1
3 09/30/2023 12:00:00 AM Black, NH                    0        1315            1
4 09/30/2023 12:00:00 AM Hispanic/Latino              0        7072            1
5 09/30/2023 12:00:00 AM Multiple/Other, NH           0         734            1
6 09/30/2023 12:00:00 AM Native Hawaiian / Pac…       0         121            1
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filtering Unknown in Column Race and Ethnicity</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>clean_cdc_data <span class="ot">&lt;-</span> cdcdata <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Unknown"</span>,<span class="st">"Overall"</span>))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the filtered data</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(clean_cdc_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 126 × 7
   Week_Ending_Date       `Race and Ethnicity`  Percent Denominator `Date Order`
   &lt;chr&gt;                  &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
 1 09/30/2023 12:00:00 AM American Indian / Al…       0          57            1
 2 09/30/2023 12:00:00 AM Asian, NH                   0        2897            1
 3 09/30/2023 12:00:00 AM Black, NH                   0        1315            1
 4 09/30/2023 12:00:00 AM Hispanic/Latino             0        7072            1
 5 09/30/2023 12:00:00 AM Multiple/Other, NH          0         734            1
 6 09/30/2023 12:00:00 AM Native Hawaiian / Pa…       0         121            1
 7 09/30/2023 12:00:00 AM White, NH                   0        6073            1
 8 10/07/2023 12:00:00 AM American Indian / Al…       0          68            2
 9 10/07/2023 12:00:00 AM Asian, NH                   0        3339            2
10 10/07/2023 12:00:00 AM Black, NH                   0        1547            2
# ℹ 116 more rows
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore clean_cdc_data</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_cdc_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Week_Ending_Date       `Race and Ethnicity`   Percent Denominator `Date Order`
  &lt;chr&gt;                  &lt;chr&gt;                    &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 09/30/2023 12:00:00 AM American Indian / Ala…       0          57            1
2 09/30/2023 12:00:00 AM Asian, NH                    0        2897            1
3 09/30/2023 12:00:00 AM Black, NH                    0        1315            1
4 09/30/2023 12:00:00 AM Hispanic/Latino              0        7072            1
5 09/30/2023 12:00:00 AM Multiple/Other, NH           0         734            1
6 09/30/2023 12:00:00 AM Native Hawaiian / Pac…       0         121            1
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
</div>
<p>I will now try to perform some exploratory/descriptive analysis on this cleaned dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if I can identify overall population of of pregnant persons aged 18-49 years</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>cdcdata1 <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  `Race and Ethnicity`                   total_denom
  &lt;chr&gt;                                        &lt;dbl&gt;
1 American Indian / Alaska Native, NH           2598
2 Asian, NH                                   117686
3 Black, NH                                    60360
4 Hispanic/Latino                             285998
5 Multiple/Other, NH                           32793
6 Native Hawaiian / Pacific Islander, NH        4965
7 White, NH                                   243504</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if I can compare the vaccination coverage percentage among races</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>clean_cdc_data <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Numerator =</span> Percent<span class="sc">/</span> <span class="dv">100</span> <span class="sc">*</span> Denominator) <span class="co"># Used this to create a new variable with just the numerator to calculate overall proportion</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>cdcdata2 <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(<span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator),<span class="at">total_numerator =</span> <span class="fu">sum</span>(Numerator), <span class="at">overall_percent=</span> total_numerator<span class="sc">/</span>total_denom <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  `Race and Ethnicity`               total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;dbl&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51
7 White, NH                               243504          25439.           10.4 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a plot of cdcdata2</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cdcdata2, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>, <span class="at">y =</span> overall_percent)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of RSV Vaccine Coverage Using Race and Ethnicity"</span>, <span class="at">x =</span> <span class="st">"Race and Ethnicity"</span>, <span class="at">y =</span> <span class="st">"Percent Vaccinated"</span>) <span class="sc">+</span>  </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">x =</span>  <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_minimal</span>()    </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>save_data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>,<span class="st">"cdcdata2.rds"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(cdcdata2, <span class="at">file =</span> save_data_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="this-section-contributed-by-clarke-miller" class="level2">
<h2 class="anchored" data-anchor-id="this-section-contributed-by-clarke-miller">This section contributed by Clarke Miller</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call a whole bunch -O- libraries! </span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr) </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>#BlackLivesMatter</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(synthpop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Find out more at https://www.synthpop.org.uk/</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Okay, I caved and used ChatGPT to help figure this part out.  Especially the sythpop stuff. Blah.</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load your existing data set (replace 'your_dataset.csv' with your actual file path)</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>existing_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>, <span class="st">"Weekly_Respiratory_Syncytial_Virus__RSV__Vaccination_Coverage_among_Pregnant_Persons_by_Race_and_Ethnicity_20240207.csv"</span>))</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Week_Ending_Date                     Race.and.Ethnicity Percent
1 09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH       0
2 09/30/2023 12:00:00 AM                              Asian, NH       0
3 09/30/2023 12:00:00 AM                              Black, NH       0
4 09/30/2023 12:00:00 AM                        Hispanic/Latino       0
5 09/30/2023 12:00:00 AM                     Multiple/Other, NH       0
6 09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH       0
  Denominator Date.Order Race.Sort.Order Figure_ID
1          57          1               1         1
2        2897          1               2         1
3        1315          1               3         1
4        7072          1               4         1
5         734          1               5         1
6         121          1               6         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Week_Ending_Date                     Race.and.Ethnicity Percent
1   09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
2   09/30/2023 12:00:00 AM                              Asian, NH     0.0
3   09/30/2023 12:00:00 AM                              Black, NH     0.0
4   09/30/2023 12:00:00 AM                        Hispanic/Latino     0.0
5   09/30/2023 12:00:00 AM                     Multiple/Other, NH     0.0
6   09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
7   09/30/2023 12:00:00 AM                                Overall     0.0
8   09/30/2023 12:00:00 AM                                Unknown     0.0
9   09/30/2023 12:00:00 AM                              White, NH     0.0
10  10/07/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
11  10/07/2023 12:00:00 AM                              Asian, NH     0.0
12  10/07/2023 12:00:00 AM                              Black, NH     0.0
13  10/07/2023 12:00:00 AM                        Hispanic/Latino     0.0
14  10/07/2023 12:00:00 AM                     Multiple/Other, NH     0.1
15  10/07/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
16  10/07/2023 12:00:00 AM                                Overall     0.0
17  10/07/2023 12:00:00 AM                                Unknown     0.0
18  10/07/2023 12:00:00 AM                              White, NH     0.1
19  10/14/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
20  10/14/2023 12:00:00 AM                              Asian, NH     0.1
21  10/14/2023 12:00:00 AM                              Black, NH     0.0
22  10/14/2023 12:00:00 AM                        Hispanic/Latino     0.0
23  10/14/2023 12:00:00 AM                     Multiple/Other, NH     0.2
24  10/14/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
25  10/14/2023 12:00:00 AM                                Overall     0.1
26  10/14/2023 12:00:00 AM                                Unknown     0.0
27  10/14/2023 12:00:00 AM                              White, NH     0.3
28  10/21/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.1
29  10/21/2023 12:00:00 AM                              Asian, NH     0.2
30  10/21/2023 12:00:00 AM                              Black, NH     0.1
31  10/21/2023 12:00:00 AM                        Hispanic/Latino     0.0
32  10/21/2023 12:00:00 AM                     Multiple/Other, NH     0.4
33  10/21/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
34  10/21/2023 12:00:00 AM                                Overall     0.2
35  10/21/2023 12:00:00 AM                                Unknown     0.1
36  10/21/2023 12:00:00 AM                              White, NH     0.6
37  10/28/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.9
38  10/28/2023 12:00:00 AM                              Asian, NH     0.3
39  10/28/2023 12:00:00 AM                              Black, NH     0.2
40  10/28/2023 12:00:00 AM                        Hispanic/Latino     0.1
41  10/28/2023 12:00:00 AM                     Multiple/Other, NH     0.6
42  10/28/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
43  10/28/2023 12:00:00 AM                                Overall     0.5
44  10/28/2023 12:00:00 AM                                Unknown     0.3
45  10/28/2023 12:00:00 AM                              White, NH     1.1
46  11/04/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.7
47  11/04/2023 12:00:00 AM                              Asian, NH     0.7
48  11/04/2023 12:00:00 AM                              Black, NH     0.3
49  11/04/2023 12:00:00 AM                        Hispanic/Latino     0.3
50  11/04/2023 12:00:00 AM                     Multiple/Other, NH     1.1
51  11/04/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.5
52  11/04/2023 12:00:00 AM                                Overall     0.9
53  11/04/2023 12:00:00 AM                                Unknown     0.9
54  11/04/2023 12:00:00 AM                              White, NH     2.0
55  11/11/2023 12:00:00 AM    American Indian / Alaska Native, NH     2.5
56  11/11/2023 12:00:00 AM                              Asian, NH     2.2
57  11/11/2023 12:00:00 AM                              Black, NH     0.6
58  11/11/2023 12:00:00 AM                        Hispanic/Latino     0.6
59  11/11/2023 12:00:00 AM                     Multiple/Other, NH     1.9
60  11/11/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     1.7
61  11/11/2023 12:00:00 AM                                Overall     1.7
62  11/11/2023 12:00:00 AM                                Unknown     1.4
63  11/11/2023 12:00:00 AM                              White, NH     3.0
64  11/18/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.1
65  11/18/2023 12:00:00 AM                              Asian, NH     5.1
66  11/18/2023 12:00:00 AM                              Black, NH     1.3
67  11/18/2023 12:00:00 AM                        Hispanic/Latino     1.6
68  11/18/2023 12:00:00 AM                     Multiple/Other, NH     3.3
69  11/18/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     3.4
70  11/18/2023 12:00:00 AM                                Overall     3.2
71  11/18/2023 12:00:00 AM                                Unknown     2.5
72  11/18/2023 12:00:00 AM                              White, NH     4.8
73  11/25/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.4
74  11/25/2023 12:00:00 AM                              Asian, NH     7.2
75  11/25/2023 12:00:00 AM                              Black, NH     2.2
76  11/25/2023 12:00:00 AM                        Hispanic/Latino     2.8
77  11/25/2023 12:00:00 AM                     Multiple/Other, NH     4.7
78  11/25/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     4.7
79  11/25/2023 12:00:00 AM                                Overall     4.6
80  11/25/2023 12:00:00 AM                                Unknown     3.2
81  11/25/2023 12:00:00 AM                              White, NH     6.4
82  12/02/2023 12:00:00 AM    American Indian / Alaska Native, NH     9.3
83  12/02/2023 12:00:00 AM                              Asian, NH    10.5
84  12/02/2023 12:00:00 AM                              Black, NH     3.9
85  12/02/2023 12:00:00 AM                        Hispanic/Latino     5.2
86  12/02/2023 12:00:00 AM                     Multiple/Other, NH     6.4
87  12/02/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     9.1
88  12/02/2023 12:00:00 AM                                Overall     7.1
89  12/02/2023 12:00:00 AM                                Unknown     4.6
90  12/02/2023 12:00:00 AM                              White, NH     8.9
91  12/09/2023 12:00:00 AM    American Indian / Alaska Native, NH    10.2
92  12/09/2023 12:00:00 AM                              Asian, NH    13.1
93  12/09/2023 12:00:00 AM                              Black, NH     5.3
94  12/09/2023 12:00:00 AM                        Hispanic/Latino     7.1
95  12/09/2023 12:00:00 AM                     Multiple/Other, NH     8.2
96  12/09/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    10.3
97  12/09/2023 12:00:00 AM                                Overall     9.0
98  12/09/2023 12:00:00 AM                                Unknown     5.8
99  12/09/2023 12:00:00 AM                              White, NH    10.8
100 12/16/2023 12:00:00 AM    American Indian / Alaska Native, NH    11.0
101 12/16/2023 12:00:00 AM                              Asian, NH    15.6
102 12/16/2023 12:00:00 AM                              Black, NH     6.4
103 12/16/2023 12:00:00 AM                        Hispanic/Latino     9.0
104 12/16/2023 12:00:00 AM                     Multiple/Other, NH     9.5
105 12/16/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    12.0
106 12/16/2023 12:00:00 AM                                Overall    10.8
107 12/16/2023 12:00:00 AM                                Unknown     7.4
108 12/16/2023 12:00:00 AM                              White, NH    12.5
109 12/23/2023 12:00:00 AM    American Indian / Alaska Native, NH    12.6
110 12/23/2023 12:00:00 AM                              Asian, NH    17.3
111 12/23/2023 12:00:00 AM                              Black, NH     7.2
112 12/23/2023 12:00:00 AM                        Hispanic/Latino    10.4
113 12/23/2023 12:00:00 AM                     Multiple/Other, NH    11.2
114 12/23/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
115 12/23/2023 12:00:00 AM                                Overall    12.2
116 12/23/2023 12:00:00 AM                                Unknown     8.3
117 12/23/2023 12:00:00 AM                              White, NH    14.0
118 12/30/2023 12:00:00 AM    American Indian / Alaska Native, NH    14.2
119 12/30/2023 12:00:00 AM                              Asian, NH    18.5
120 12/30/2023 12:00:00 AM                              Black, NH     7.5
121 12/30/2023 12:00:00 AM                        Hispanic/Latino    11.2
122 12/30/2023 12:00:00 AM                     Multiple/Other, NH    12.0
123 12/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
124 12/30/2023 12:00:00 AM                                Overall    13.0
125 12/30/2023 12:00:00 AM                                Unknown     9.2
126 12/30/2023 12:00:00 AM                              White, NH    14.7
127 01/06/2024 12:00:00 AM    American Indian / Alaska Native, NH    16.2
128 01/06/2024 12:00:00 AM                              Asian, NH    19.8
129 01/06/2024 12:00:00 AM                              Black, NH     8.2
130 01/06/2024 12:00:00 AM                        Hispanic/Latino    12.0
131 01/06/2024 12:00:00 AM                     Multiple/Other, NH    12.9
132 01/06/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
133 01/06/2024 12:00:00 AM                                Overall    14.0
134 01/06/2024 12:00:00 AM                                Unknown    10.4
135 01/06/2024 12:00:00 AM                              White, NH    15.8
136 01/13/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.2
137 01/13/2024 12:00:00 AM                              Asian, NH    21.4
138 01/13/2024 12:00:00 AM                              Black, NH     8.7
139 01/13/2024 12:00:00 AM                        Hispanic/Latino    13.3
140 01/13/2024 12:00:00 AM                     Multiple/Other, NH    14.6
141 01/13/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.6
142 01/13/2024 12:00:00 AM                                Overall    15.3
143 01/13/2024 12:00:00 AM                                Unknown    11.6
144 01/13/2024 12:00:00 AM                              White, NH    17.1
145 01/20/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.0
146 01/20/2024 12:00:00 AM                              Asian, NH    22.3
147 01/20/2024 12:00:00 AM                              Black, NH     9.2
148 01/20/2024 12:00:00 AM                        Hispanic/Latino    13.9
149 01/20/2024 12:00:00 AM                     Multiple/Other, NH    15.4
150 01/20/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.8
151 01/20/2024 12:00:00 AM                                Overall    15.9
152 01/20/2024 12:00:00 AM                                Unknown    12.1
153 01/20/2024 12:00:00 AM                              White, NH    17.8
154 01/27/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.1
155 01/27/2024 12:00:00 AM                              Asian, NH    22.8
156 01/27/2024 12:00:00 AM                              Black, NH     9.5
157 01/27/2024 12:00:00 AM                        Hispanic/Latino    13.9
158 01/27/2024 12:00:00 AM                     Multiple/Other, NH    15.7
159 01/27/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    17.5
160 01/27/2024 12:00:00 AM                                Overall    16.2
161 01/27/2024 12:00:00 AM                                Unknown    12.4
162 01/27/2024 12:00:00 AM                              White, NH    18.2
    Denominator Date.Order Race.Sort.Order Figure_ID
1            57          1               1         1
2          2897          1               2         1
3          1315          1               3         1
4          7072          1               4         1
5           734          1               5         1
6           121          1               6         1
7         19168          1               7         1
8           899          1               8         1
9          6073          1               9         1
10           68          2               1         1
11         3339          2               2         1
12         1547          2               3         1
13         8149          2               4         1
14          867          2               5         1
15          139          2               6         1
16        22142          2               7         1
17         1072          2               8         1
18         6961          2               9         1
19           82          3               1         1
20         3806          3               2         1
21         1795          3               3         1
22         9200          3               4         1
23          995          3               5         1
24          154          3               6         1
25        25071          3               7         1
26         1217          3               8         1
27         7822          3               9         1
28           92          4               1         1
29         4274          4               2         1
30         2060          4               3         1
31        10307          4               4         1
32         1128          4               5         1
33          174          4               6         1
34        28105          4               7         1
35         1365          4               8         1
36         8705          4               9         1
37          106          5               1         1
38         4715          5               2         1
39         2297          5               3         1
40        11403          5               4         1
41         1256          5               5         1
42          193          5               6         1
43        31080          5               7         1
44         1528          5               8         1
45         9582          5               9         1
46          115          6               1         1
47         5115          6               2         1
48         2550          6               3         1
49        12446          6               4         1
50         1395          6               5         1
51          216          6               6         1
52        34004          6               7         1
53         1700          6               8         1
54        10467          6               9         1
55          119          7               1         1
56         5557          7               2         1
57         2788          7               3         1
58        13525          7               4         1
59         1517          7               5         1
60          238          7               6         1
61        36948          7               7         1
62         1867          7               8         1
63        11337          7               9         1
64          132          8               1         1
65         6009          8               2         1
66         3047          8               3         1
67        14619          8               4         1
68         1642          8               5         1
69          262          8               6         1
70        40018          8               7         1
71         2059          8               8         1
72        12248          8               9         1
73          140          9               1         1
74         6447          9               2         1
75         3288          9               3         1
76        15637          9               4         1
77         1782          9               5         1
78          278          9               6         1
79        42962          9               7         1
80         2235          9               8         1
81        13155          9               9         1
82          150         10               1         1
83         6845         10               2         1
84         3502         10               3         1
85        16559         10               4         1
86         1909         10               5         1
87          287         10               6         1
88        45609         10               7         1
89         2390         10               8         1
90        13967         10               9         1
91          157         11               1         1
92         7251         11               2         1
93         3743         11               3         1
94        17541         11               4         1
95         2031         11               5         1
96          301         11               6         1
97        48426         11               7         1
98         2571         11               8         1
99        14831         11               9         1
100         173         12               1         1
101        7642         12               2         1
102        3966         12               3         1
103       18478         12               4         1
104        2138         12               5         1
105         317         12               6         1
106       51174         12               7         1
107        2781         12               8         1
108       15679         12               9         1
109         182         13               1         1
110        8051         13               2         1
111        4191         13               3         1
112       19473         13               4         1
113        2263         13               5         1
114         335         13               6         1
115       54036         13               7         1
116        2983         13               8         1
117       16558         13               9         1
118         190         14               1         1
119        8421         14               2         1
120        4443         14               3         1
121       20474         14               4         1
122        2396         14               5         1
123         359         14               6         1
124       56949         14               7         1
125        3164         14               8         1
126       17502         14               9         1
127         198         15               1         1
128        8775         15               2         1
129        4672         15               3         1
130       21402         15               4         1
131        2527         15               5         1
132         372         15               6         1
133       59648         15               7         1
134        3337         15               8         1
135       18365         15               9         1
136         203         16               1         1
137        9140         16               2         1
138        4879         16               3         1
139       22262         16               4         1
140        2629         16               5         1
141         391         16               6         1
142       62215         16               7         1
143        3520         16               8         1
144       19191         16               9         1
145         212         17               1         1
146        9513         17               2         1
147        5048         17               3         1
148       23261         17               4         1
149        2742         17               5         1
150         405         17               6         1
151       64966         17               7         1
152        3707         17               8         1
153       20078         17               9         1
154         222         18               1         1
155        9889         18               2         1
156        5229         18               3         1
157       24190         18               4         1
158        2842         18               5         1
159         423         18               6         1
160       67666         18               7         1
161        3888         18               8         1
162       20983         18               9         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filtering Unknown in Column Race and Ethnicity</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>clean_existing_data <span class="ot">&lt;-</span> existing_data <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Race.and.Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Unknown"</span>,<span class="st">"Overall"</span>))</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the filtered data</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(clean_existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Week_Ending_Date                     Race.and.Ethnicity Percent
1   09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
2   09/30/2023 12:00:00 AM                              Asian, NH     0.0
3   09/30/2023 12:00:00 AM                              Black, NH     0.0
4   09/30/2023 12:00:00 AM                        Hispanic/Latino     0.0
5   09/30/2023 12:00:00 AM                     Multiple/Other, NH     0.0
6   09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
7   09/30/2023 12:00:00 AM                              White, NH     0.0
8   10/07/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
9   10/07/2023 12:00:00 AM                              Asian, NH     0.0
10  10/07/2023 12:00:00 AM                              Black, NH     0.0
11  10/07/2023 12:00:00 AM                        Hispanic/Latino     0.0
12  10/07/2023 12:00:00 AM                     Multiple/Other, NH     0.1
13  10/07/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
14  10/07/2023 12:00:00 AM                              White, NH     0.1
15  10/14/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
16  10/14/2023 12:00:00 AM                              Asian, NH     0.1
17  10/14/2023 12:00:00 AM                              Black, NH     0.0
18  10/14/2023 12:00:00 AM                        Hispanic/Latino     0.0
19  10/14/2023 12:00:00 AM                     Multiple/Other, NH     0.2
20  10/14/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
21  10/14/2023 12:00:00 AM                              White, NH     0.3
22  10/21/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.1
23  10/21/2023 12:00:00 AM                              Asian, NH     0.2
24  10/21/2023 12:00:00 AM                              Black, NH     0.1
25  10/21/2023 12:00:00 AM                        Hispanic/Latino     0.0
26  10/21/2023 12:00:00 AM                     Multiple/Other, NH     0.4
27  10/21/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
28  10/21/2023 12:00:00 AM                              White, NH     0.6
29  10/28/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.9
30  10/28/2023 12:00:00 AM                              Asian, NH     0.3
31  10/28/2023 12:00:00 AM                              Black, NH     0.2
32  10/28/2023 12:00:00 AM                        Hispanic/Latino     0.1
33  10/28/2023 12:00:00 AM                     Multiple/Other, NH     0.6
34  10/28/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
35  10/28/2023 12:00:00 AM                              White, NH     1.1
36  11/04/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.7
37  11/04/2023 12:00:00 AM                              Asian, NH     0.7
38  11/04/2023 12:00:00 AM                              Black, NH     0.3
39  11/04/2023 12:00:00 AM                        Hispanic/Latino     0.3
40  11/04/2023 12:00:00 AM                     Multiple/Other, NH     1.1
41  11/04/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.5
42  11/04/2023 12:00:00 AM                              White, NH     2.0
43  11/11/2023 12:00:00 AM    American Indian / Alaska Native, NH     2.5
44  11/11/2023 12:00:00 AM                              Asian, NH     2.2
45  11/11/2023 12:00:00 AM                              Black, NH     0.6
46  11/11/2023 12:00:00 AM                        Hispanic/Latino     0.6
47  11/11/2023 12:00:00 AM                     Multiple/Other, NH     1.9
48  11/11/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     1.7
49  11/11/2023 12:00:00 AM                              White, NH     3.0
50  11/18/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.1
51  11/18/2023 12:00:00 AM                              Asian, NH     5.1
52  11/18/2023 12:00:00 AM                              Black, NH     1.3
53  11/18/2023 12:00:00 AM                        Hispanic/Latino     1.6
54  11/18/2023 12:00:00 AM                     Multiple/Other, NH     3.3
55  11/18/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     3.4
56  11/18/2023 12:00:00 AM                              White, NH     4.8
57  11/25/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.4
58  11/25/2023 12:00:00 AM                              Asian, NH     7.2
59  11/25/2023 12:00:00 AM                              Black, NH     2.2
60  11/25/2023 12:00:00 AM                        Hispanic/Latino     2.8
61  11/25/2023 12:00:00 AM                     Multiple/Other, NH     4.7
62  11/25/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     4.7
63  11/25/2023 12:00:00 AM                              White, NH     6.4
64  12/02/2023 12:00:00 AM    American Indian / Alaska Native, NH     9.3
65  12/02/2023 12:00:00 AM                              Asian, NH    10.5
66  12/02/2023 12:00:00 AM                              Black, NH     3.9
67  12/02/2023 12:00:00 AM                        Hispanic/Latino     5.2
68  12/02/2023 12:00:00 AM                     Multiple/Other, NH     6.4
69  12/02/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     9.1
70  12/02/2023 12:00:00 AM                              White, NH     8.9
71  12/09/2023 12:00:00 AM    American Indian / Alaska Native, NH    10.2
72  12/09/2023 12:00:00 AM                              Asian, NH    13.1
73  12/09/2023 12:00:00 AM                              Black, NH     5.3
74  12/09/2023 12:00:00 AM                        Hispanic/Latino     7.1
75  12/09/2023 12:00:00 AM                     Multiple/Other, NH     8.2
76  12/09/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    10.3
77  12/09/2023 12:00:00 AM                              White, NH    10.8
78  12/16/2023 12:00:00 AM    American Indian / Alaska Native, NH    11.0
79  12/16/2023 12:00:00 AM                              Asian, NH    15.6
80  12/16/2023 12:00:00 AM                              Black, NH     6.4
81  12/16/2023 12:00:00 AM                        Hispanic/Latino     9.0
82  12/16/2023 12:00:00 AM                     Multiple/Other, NH     9.5
83  12/16/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    12.0
84  12/16/2023 12:00:00 AM                              White, NH    12.5
85  12/23/2023 12:00:00 AM    American Indian / Alaska Native, NH    12.6
86  12/23/2023 12:00:00 AM                              Asian, NH    17.3
87  12/23/2023 12:00:00 AM                              Black, NH     7.2
88  12/23/2023 12:00:00 AM                        Hispanic/Latino    10.4
89  12/23/2023 12:00:00 AM                     Multiple/Other, NH    11.2
90  12/23/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
91  12/23/2023 12:00:00 AM                              White, NH    14.0
92  12/30/2023 12:00:00 AM    American Indian / Alaska Native, NH    14.2
93  12/30/2023 12:00:00 AM                              Asian, NH    18.5
94  12/30/2023 12:00:00 AM                              Black, NH     7.5
95  12/30/2023 12:00:00 AM                        Hispanic/Latino    11.2
96  12/30/2023 12:00:00 AM                     Multiple/Other, NH    12.0
97  12/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
98  12/30/2023 12:00:00 AM                              White, NH    14.7
99  01/06/2024 12:00:00 AM    American Indian / Alaska Native, NH    16.2
100 01/06/2024 12:00:00 AM                              Asian, NH    19.8
101 01/06/2024 12:00:00 AM                              Black, NH     8.2
102 01/06/2024 12:00:00 AM                        Hispanic/Latino    12.0
103 01/06/2024 12:00:00 AM                     Multiple/Other, NH    12.9
104 01/06/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
105 01/06/2024 12:00:00 AM                              White, NH    15.8
106 01/13/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.2
107 01/13/2024 12:00:00 AM                              Asian, NH    21.4
108 01/13/2024 12:00:00 AM                              Black, NH     8.7
109 01/13/2024 12:00:00 AM                        Hispanic/Latino    13.3
110 01/13/2024 12:00:00 AM                     Multiple/Other, NH    14.6
111 01/13/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.6
112 01/13/2024 12:00:00 AM                              White, NH    17.1
113 01/20/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.0
114 01/20/2024 12:00:00 AM                              Asian, NH    22.3
115 01/20/2024 12:00:00 AM                              Black, NH     9.2
116 01/20/2024 12:00:00 AM                        Hispanic/Latino    13.9
117 01/20/2024 12:00:00 AM                     Multiple/Other, NH    15.4
118 01/20/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.8
119 01/20/2024 12:00:00 AM                              White, NH    17.8
120 01/27/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.1
121 01/27/2024 12:00:00 AM                              Asian, NH    22.8
122 01/27/2024 12:00:00 AM                              Black, NH     9.5
123 01/27/2024 12:00:00 AM                        Hispanic/Latino    13.9
124 01/27/2024 12:00:00 AM                     Multiple/Other, NH    15.7
125 01/27/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    17.5
126 01/27/2024 12:00:00 AM                              White, NH    18.2
    Denominator Date.Order Race.Sort.Order Figure_ID
1            57          1               1         1
2          2897          1               2         1
3          1315          1               3         1
4          7072          1               4         1
5           734          1               5         1
6           121          1               6         1
7          6073          1               9         1
8            68          2               1         1
9          3339          2               2         1
10         1547          2               3         1
11         8149          2               4         1
12          867          2               5         1
13          139          2               6         1
14         6961          2               9         1
15           82          3               1         1
16         3806          3               2         1
17         1795          3               3         1
18         9200          3               4         1
19          995          3               5         1
20          154          3               6         1
21         7822          3               9         1
22           92          4               1         1
23         4274          4               2         1
24         2060          4               3         1
25        10307          4               4         1
26         1128          4               5         1
27          174          4               6         1
28         8705          4               9         1
29          106          5               1         1
30         4715          5               2         1
31         2297          5               3         1
32        11403          5               4         1
33         1256          5               5         1
34          193          5               6         1
35         9582          5               9         1
36          115          6               1         1
37         5115          6               2         1
38         2550          6               3         1
39        12446          6               4         1
40         1395          6               5         1
41          216          6               6         1
42        10467          6               9         1
43          119          7               1         1
44         5557          7               2         1
45         2788          7               3         1
46        13525          7               4         1
47         1517          7               5         1
48          238          7               6         1
49        11337          7               9         1
50          132          8               1         1
51         6009          8               2         1
52         3047          8               3         1
53        14619          8               4         1
54         1642          8               5         1
55          262          8               6         1
56        12248          8               9         1
57          140          9               1         1
58         6447          9               2         1
59         3288          9               3         1
60        15637          9               4         1
61         1782          9               5         1
62          278          9               6         1
63        13155          9               9         1
64          150         10               1         1
65         6845         10               2         1
66         3502         10               3         1
67        16559         10               4         1
68         1909         10               5         1
69          287         10               6         1
70        13967         10               9         1
71          157         11               1         1
72         7251         11               2         1
73         3743         11               3         1
74        17541         11               4         1
75         2031         11               5         1
76          301         11               6         1
77        14831         11               9         1
78          173         12               1         1
79         7642         12               2         1
80         3966         12               3         1
81        18478         12               4         1
82         2138         12               5         1
83          317         12               6         1
84        15679         12               9         1
85          182         13               1         1
86         8051         13               2         1
87         4191         13               3         1
88        19473         13               4         1
89         2263         13               5         1
90          335         13               6         1
91        16558         13               9         1
92          190         14               1         1
93         8421         14               2         1
94         4443         14               3         1
95        20474         14               4         1
96         2396         14               5         1
97          359         14               6         1
98        17502         14               9         1
99          198         15               1         1
100        8775         15               2         1
101        4672         15               3         1
102       21402         15               4         1
103        2527         15               5         1
104         372         15               6         1
105       18365         15               9         1
106         203         16               1         1
107        9140         16               2         1
108        4879         16               3         1
109       22262         16               4         1
110        2629         16               5         1
111         391         16               6         1
112       19191         16               9         1
113         212         17               1         1
114        9513         17               2         1
115        5048         17               3         1
116       23261         17               4         1
117        2742         17               5         1
118         405         17               6         1
119       20078         17               9         1
120         222         18               1         1
121        9889         18               2         1
122        5229         18               3         1
123       24190         18               4         1
124        2842         18               5         1
125         423         18               6         1
126       20983         18               9         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore clean_cdc_data</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Week_Ending_Date                     Race.and.Ethnicity Percent
1 09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH       0
2 09/30/2023 12:00:00 AM                              Asian, NH       0
3 09/30/2023 12:00:00 AM                              Black, NH       0
4 09/30/2023 12:00:00 AM                        Hispanic/Latino       0
5 09/30/2023 12:00:00 AM                     Multiple/Other, NH       0
6 09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH       0
  Denominator Date.Order Race.Sort.Order Figure_ID
1          57          1               1         1
2        2897          1               2         1
3        1315          1               3         1
4        7072          1               4         1
5         734          1               5         1
6         121          1               6         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mutate!</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>clean_existing_data <span class="ot">&lt;-</span> clean_existing_data <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Numerator =</span> Percent<span class="sc">/</span> <span class="dv">100</span> <span class="sc">*</span> Denominator) </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>cdcdata3 <span class="ot">&lt;-</span> clean_existing_data <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(Race.and.Ethnicity) <span class="sc">%&gt;%</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator),<span class="at">total_numerator =</span> <span class="fu">sum</span>(Numerator), <span class="at">overall_percent=</span> total_numerator<span class="sc">/</span>total_denom <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcdata3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  Race.and.Ethnicity                 total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;int&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  Race.and.Ethnicity                 total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;int&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51
7 White, NH                               243504          25439.           10.4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>CDC_plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cdcdata3, <span class="fu">aes</span>(<span class="at">x =</span> Race.and.Ethnicity, <span class="at">y =</span> overall_percent)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of RSV Vaccine Coverage Using Race and Ethnicity (Original Data)"</span>, <span class="at">x =</span> <span class="st">"Race and Ethnicity"</span>, <span class="at">y =</span> <span class="st">"Percent Vacinated"</span>) <span class="sc">+</span>  </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">x =</span>  <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_minimal</span>()    </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>CDC_plot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>save_data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>,<span class="st">"cdcdata3.rds"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(cdcdata3, <span class="at">file =</span> save_data_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call a whole bunch -O- libraries! </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr) </span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary) </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) </span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(synthpop)</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Use synthpop to generate synthetic data</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>synthetic_data <span class="ot">&lt;-</span> <span class="fu">syn</span>(cdcdata3, <span class="at">method =</span> <span class="st">"cart"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>CAUTION: Your data set has fewer observations (7) than we advise.
We suggest that there should be at least 140 observations
(100 + 10 * no. of variables used in modelling the data).
Please check your synthetic data carefully with functions
compare(), utility.tab(), and utility.gen().


Variable(s): Race.and.Ethnicity have been changed for synthesis from character to factor.

Synthesis
-----------
 Race.and.Ethnicity total_denom total_numerator overall_percent</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the synthetic data</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(synthetic_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$call
syn(data = cdcdata3, method = "cart")

$m
[1] 1

$syn
                      Race.and.Ethnicity total_denom total_numerator
1                        Hispanic/Latino        4965        2808.096
2                        Hispanic/Latino      117686       21014.185
3                     Multiple/Other, NH       32793        3135.485
4                        Hispanic/Latino        4965       21014.185
5                              White, NH      285998       25439.054
6    American Indian / Alaska Native, NH      285998        3135.485
7 Native Hawaiian / Pacific Islander, NH      117686         472.075
  overall_percent
1        8.563096
2        9.508056
3        9.508056
4        8.563096
5        9.508056
6       10.447078
7       12.606570

$method
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
          "sample"             "cart"             "cart"             "cart" 

$visit.sequence
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
                 1                  2                  3                  4 

$predictor.matrix
                   Race.and.Ethnicity total_denom total_numerator
Race.and.Ethnicity                  0           0               0
total_denom                         1           0               0
total_numerator                     1           1               0
overall_percent                     1           1               1
                   overall_percent
Race.and.Ethnicity               0
total_denom                      0
total_numerator                  0
overall_percent                  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(synthetic_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
($call) syn(data = cdcdata3, method = "cart")

Number of synthesised data sets: 
($m)  1 

First rows of synthesised data set: 
($syn)
                   Race.and.Ethnicity total_denom total_numerator
1                     Hispanic/Latino        4965        2808.096
2                     Hispanic/Latino      117686       21014.185
3                  Multiple/Other, NH       32793        3135.485
4                     Hispanic/Latino        4965       21014.185
5                           White, NH      285998       25439.054
6 American Indian / Alaska Native, NH      285998        3135.485
  overall_percent
1        8.563096
2        9.508056
3        9.508056
4        8.563096
5        9.508056
6       10.447078
...

Synthesising methods: 
($method)
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
          "sample"             "cart"             "cart"             "cart" 

Order of synthesis: 
($visit.sequence)
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
                 1                  2                  3                  4 

Matrix of predictors: 
($predictor.matrix)
                   Race.and.Ethnicity total_denom total_numerator
Race.and.Ethnicity                  0           0               0
total_denom                         1           0               0
total_numerator                     1           1               0
overall_percent                     1           1               1
                   overall_percent
Race.and.Ethnicity               0
total_denom                      0
total_numerator                  0
overall_percent                  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>save_data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>,<span class="st">"synthetic_data.csv"</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(synthetic_data, <span class="at">file =</span> save_data_location)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">compare.synds</span>(synthetic_data,cdcdata3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Warning: You are creating tables with 7 cells from 7 observations.
Results from sparse tables may be unreliable.
Warning: You are creating tables with 5 cells from 7 observations.
Results from sparse tables may be unreliable.
Warning: You are creating tables with 5 cells from 7 observations.
Results from sparse tables may be unreliable.
Warning: You are creating tables with 4 cells from 7 observations.
Results from sparse tables may be unreliable.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Comparing percentages observed with synthetic</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Selected utility measures:
                       pMSE   S_pMSE df
Race.and.Ethnicity 0.053571 1.000000  6
total_denom        0.045238 1.266667  4
total_numerator    0.033333 0.933333  4
overall_percent    0.045238 1.688889  3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Loading packages</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#This includes ggplot2, tidyr, readr, dplyr, stringr, purr, forcats</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#This is used to build common complex tables and manipulate table styles. </span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Reading in the csv file</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>cdcdata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>, <span class="st">"Weekly_Respiratory_Syncytial_Virus__RSV__Vaccination_Coverage_among_Pregnant_Persons_by_Race_and_Ethnicity_20240207.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 162 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): Week_Ending_Date, Race and Ethnicity
dbl (5): Percent, Denominator, Date Order, Race Sort Order, Figure_ID

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking the packaging (displaying first and last few rows of data)</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 162</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Showing the structure</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [162 × 7] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Week_Ending_Date  : chr [1:162] "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" ...
 $ Race and Ethnicity: chr [1:162] "American Indian / Alaska Native, NH" "Asian, NH" "Black, NH" "Hispanic/Latino" ...
 $ Percent           : num [1:162] 0 0 0 0 0 0 0 0 0 0 ...
 $ Denominator       : num [1:162] 57 2897 1315 7072 734 ...
 $ Date Order        : num [1:162] 1 1 1 1 1 1 1 1 1 2 ...
 $ Race Sort Order   : num [1:162] 1 2 3 4 5 6 7 8 9 1 ...
 $ Figure_ID         : num [1:162] 1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "spec")=
  .. cols(
  ..   Week_Ending_Date = col_character(),
  ..   `Race and Ethnicity` = col_character(),
  ..   Percent = col_double(),
  ..   Denominator = col_double(),
  ..   `Date Order` = col_double(),
  ..   `Race Sort Order` = col_double(),
  ..   Figure_ID = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Get column names</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Week_Ending_Date"   "Race and Ethnicity" "Percent"           
[4] "Denominator"        "Date Order"         "Race Sort Order"   
[7] "Figure_ID"         </code></pre>
</div>
</div>
<p>I am seeing many Unknown Values within my dataset in the Race/Ethnicity column so I will try and filter those out with the assistance of AI written code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Examining data again </span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Week_Ending_Date       `Race and Ethnicity`   Percent Denominator `Date Order`
  &lt;chr&gt;                  &lt;chr&gt;                    &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 09/30/2023 12:00:00 AM American Indian / Ala…       0          57            1
2 09/30/2023 12:00:00 AM Asian, NH                    0        2897            1
3 09/30/2023 12:00:00 AM Black, NH                    0        1315            1
4 09/30/2023 12:00:00 AM Hispanic/Latino              0        7072            1
5 09/30/2023 12:00:00 AM Multiple/Other, NH           0         734            1
6 09/30/2023 12:00:00 AM Native Hawaiian / Pac…       0         121            1
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filtering Unknown in Column Race and Ethnicity</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>clean_cdc_data <span class="ot">&lt;-</span> cdcdata <span class="sc">%&gt;%</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Unknown"</span>,<span class="st">"Overall"</span>))</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the filtered data</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(clean_cdc_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 126 × 7
   Week_Ending_Date       `Race and Ethnicity`  Percent Denominator `Date Order`
   &lt;chr&gt;                  &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
 1 09/30/2023 12:00:00 AM American Indian / Al…       0          57            1
 2 09/30/2023 12:00:00 AM Asian, NH                   0        2897            1
 3 09/30/2023 12:00:00 AM Black, NH                   0        1315            1
 4 09/30/2023 12:00:00 AM Hispanic/Latino             0        7072            1
 5 09/30/2023 12:00:00 AM Multiple/Other, NH          0         734            1
 6 09/30/2023 12:00:00 AM Native Hawaiian / Pa…       0         121            1
 7 09/30/2023 12:00:00 AM White, NH                   0        6073            1
 8 10/07/2023 12:00:00 AM American Indian / Al…       0          68            2
 9 10/07/2023 12:00:00 AM Asian, NH                   0        3339            2
10 10/07/2023 12:00:00 AM Black, NH                   0        1547            2
# ℹ 116 more rows
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore clean_cdc_data</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_cdc_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Week_Ending_Date       `Race and Ethnicity`   Percent Denominator `Date Order`
  &lt;chr&gt;                  &lt;chr&gt;                    &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 09/30/2023 12:00:00 AM American Indian / Ala…       0          57            1
2 09/30/2023 12:00:00 AM Asian, NH                    0        2897            1
3 09/30/2023 12:00:00 AM Black, NH                    0        1315            1
4 09/30/2023 12:00:00 AM Hispanic/Latino              0        7072            1
5 09/30/2023 12:00:00 AM Multiple/Other, NH           0         734            1
6 09/30/2023 12:00:00 AM Native Hawaiian / Pac…       0         121            1
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
</div>
<p>I will now try to perform some exploratory/descriptive analysis on this cleaned dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if I can identify overall population of of pregnant persons aged 18-49 years</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>cdcdata1 <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator))</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  `Race and Ethnicity`                   total_denom
  &lt;chr&gt;                                        &lt;dbl&gt;
1 American Indian / Alaska Native, NH           2598
2 Asian, NH                                   117686
3 Black, NH                                    60360
4 Hispanic/Latino                             285998
5 Multiple/Other, NH                           32793
6 Native Hawaiian / Pacific Islander, NH        4965
7 White, NH                                   243504</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if I can compare the vaccination coverage percentage among races</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>clean_cdc_data <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Numerator =</span> Percent<span class="sc">/</span> <span class="dv">100</span> <span class="sc">*</span> Denominator) <span class="co"># Used this to create a new variable with just the numerator to calculate overall proportion</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>cdcdata2 <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(<span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator),<span class="at">total_numerator =</span> <span class="fu">sum</span>(Numerator), <span class="at">overall_percent=</span> total_numerator<span class="sc">/</span>total_denom <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  `Race and Ethnicity`               total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;dbl&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51
7 White, NH                               243504          25439.           10.4 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a plot of cdcdata2</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cdcdata2, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>, <span class="at">y =</span> overall_percent)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of RSV Vaccine Coverage Using Race and Ethnicity"</span>, <span class="at">x =</span> <span class="st">"Race and Ethnicity"</span>, <span class="at">y =</span> <span class="st">"Percent Vaccinated"</span>) <span class="sc">+</span>  </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">x =</span>  <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_minimal</span>()    </span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>=======</p>
</section>
</section>
<section id="cdc-data-exploration-quarterly-provisional-estimates-for-selected-birth-indicators-1" class="level1">
<h1>CDC Data Exploration: Quarterly Provisional Estimates for Selected Birth Indicators</h1>
<section id="description-of-the-data-1" class="level3">
<h3 class="anchored" data-anchor-id="description-of-the-data-1">Description of the data</h3>
<p>This dataset comes from the National Center for Immunization and Respiratory Diseases (NCIRD). The data is a quarterly release of provisional estimates of selected reproductive indicators including general fertility rates, age-specific birth rates, total and low-risk cesarean delivery rates, preterm birth rates, and other gestational age categories. Data on RSV vaccinations among pregnant persons was available starting September 22, 2023, and includes doses received starting September 24, 2023.</p>
<p>The dataset can be found on <a href="https://data.cdc.gov/Pregnancy-Vaccination/Weekly-Respiratory-Syncytial-Virus-RSV-Vaccination/g4jn-64pd/about_data.">CDC website</a>.</p>
</section>
<section id="reading-in-the-data-1" class="level3">
<h3 class="anchored" data-anchor-id="reading-in-the-data-1">Reading in the data</h3>
<p>Here, I loaded all the packages I will use for this data exercise, listed below. I also read in the data from the csv file, and I called the data <code>cdcdata</code>. We can see that there are 7 variables and 162 observations. This dataset has multiple indicators stacked on top of each other. For example, within the data there are columns for “Week_Ending_Date”, “Race and Ethnicity,” etc.,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Loading packages</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#This includes ggplot2, tidyr, readr, dplyr, stringr, purr, forcats</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co">#This is used to build common complex tables and manipulate table styles. </span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Reading in the csv file</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>cdcdata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>, <span class="st">"Weekly_Respiratory_Syncytial_Virus__RSV__Vaccination_Coverage_among_Pregnant_Persons_by_Race_and_Ethnicity_20240207.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 162 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): Week_Ending_Date, Race and Ethnicity
dbl (5): Percent, Denominator, Date Order, Race Sort Order, Figure_ID

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking the packaging (displaying first and last few rows of data)</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 162</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Showing the structure</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [162 × 7] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Week_Ending_Date  : chr [1:162] "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" "09/30/2023 12:00:00 AM" ...
 $ Race and Ethnicity: chr [1:162] "American Indian / Alaska Native, NH" "Asian, NH" "Black, NH" "Hispanic/Latino" ...
 $ Percent           : num [1:162] 0 0 0 0 0 0 0 0 0 0 ...
 $ Denominator       : num [1:162] 57 2897 1315 7072 734 ...
 $ Date Order        : num [1:162] 1 1 1 1 1 1 1 1 1 2 ...
 $ Race Sort Order   : num [1:162] 1 2 3 4 5 6 7 8 9 1 ...
 $ Figure_ID         : num [1:162] 1 1 1 1 1 1 1 1 1 1 ...
 - attr(*, "spec")=
  .. cols(
  ..   Week_Ending_Date = col_character(),
  ..   `Race and Ethnicity` = col_character(),
  ..   Percent = col_double(),
  ..   Denominator = col_double(),
  ..   `Date Order` = col_double(),
  ..   `Race Sort Order` = col_double(),
  ..   Figure_ID = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Get column names</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Week_Ending_Date"   "Race and Ethnicity" "Percent"           
[4] "Denominator"        "Date Order"         "Race Sort Order"   
[7] "Figure_ID"         </code></pre>
</div>
</div>
<p>I am seeing many Unknown Values within my dataset in the Race/Ethnicity column so I will try and filter those out with the assistance of AI written code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Examining data again </span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Week_Ending_Date       `Race and Ethnicity`   Percent Denominator `Date Order`
  &lt;chr&gt;                  &lt;chr&gt;                    &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 09/30/2023 12:00:00 AM American Indian / Ala…       0          57            1
2 09/30/2023 12:00:00 AM Asian, NH                    0        2897            1
3 09/30/2023 12:00:00 AM Black, NH                    0        1315            1
4 09/30/2023 12:00:00 AM Hispanic/Latino              0        7072            1
5 09/30/2023 12:00:00 AM Multiple/Other, NH           0         734            1
6 09/30/2023 12:00:00 AM Native Hawaiian / Pac…       0         121            1
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filtering Unknown in Column Race and Ethnicity</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>clean_cdc_data <span class="ot">&lt;-</span> cdcdata <span class="sc">%&gt;%</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Unknown"</span>,<span class="st">"Overall"</span>))</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the filtered data</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(clean_cdc_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 126 × 7
   Week_Ending_Date       `Race and Ethnicity`  Percent Denominator `Date Order`
   &lt;chr&gt;                  &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
 1 09/30/2023 12:00:00 AM American Indian / Al…       0          57            1
 2 09/30/2023 12:00:00 AM Asian, NH                   0        2897            1
 3 09/30/2023 12:00:00 AM Black, NH                   0        1315            1
 4 09/30/2023 12:00:00 AM Hispanic/Latino             0        7072            1
 5 09/30/2023 12:00:00 AM Multiple/Other, NH          0         734            1
 6 09/30/2023 12:00:00 AM Native Hawaiian / Pa…       0         121            1
 7 09/30/2023 12:00:00 AM White, NH                   0        6073            1
 8 10/07/2023 12:00:00 AM American Indian / Al…       0          68            2
 9 10/07/2023 12:00:00 AM Asian, NH                   0        3339            2
10 10/07/2023 12:00:00 AM Black, NH                   0        1547            2
# ℹ 116 more rows
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore clean_cdc_data</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_cdc_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  Week_Ending_Date       `Race and Ethnicity`   Percent Denominator `Date Order`
  &lt;chr&gt;                  &lt;chr&gt;                    &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1 09/30/2023 12:00:00 AM American Indian / Ala…       0          57            1
2 09/30/2023 12:00:00 AM Asian, NH                    0        2897            1
3 09/30/2023 12:00:00 AM Black, NH                    0        1315            1
4 09/30/2023 12:00:00 AM Hispanic/Latino              0        7072            1
5 09/30/2023 12:00:00 AM Multiple/Other, NH           0         734            1
6 09/30/2023 12:00:00 AM Native Hawaiian / Pac…       0         121            1
# ℹ 2 more variables: `Race Sort Order` &lt;dbl&gt;, Figure_ID &lt;dbl&gt;</code></pre>
</div>
</div>
<p>I will now try to perform some exploratory/descriptive analysis on this cleaned dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if I can identify overall population of of pregnant persons aged 18-49 years</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>cdcdata1 <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator))</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  `Race and Ethnicity`                   total_denom
  &lt;chr&gt;                                        &lt;dbl&gt;
1 American Indian / Alaska Native, NH           2598
2 Asian, NH                                   117686
3 Black, NH                                    60360
4 Hispanic/Latino                             285998
5 Multiple/Other, NH                           32793
6 Native Hawaiian / Pacific Islander, NH        4965
7 White, NH                                   243504</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing if I can compare the vaccination coverage percentage among races</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>clean_cdc_data <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Numerator =</span> Percent<span class="sc">/</span> <span class="dv">100</span> <span class="sc">*</span> Denominator) <span class="co"># Used this to create a new variable with just the numerator to calculate overall proportion</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>cdcdata2 <span class="ot">&lt;-</span> clean_cdc_data <span class="sc">%&gt;%</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(<span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator),<span class="at">total_numerator =</span> <span class="fu">sum</span>(Numerator), <span class="at">overall_percent=</span> total_numerator<span class="sc">/</span>total_denom <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  `Race and Ethnicity`               total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;dbl&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51
7 White, NH                               243504          25439.           10.4 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a plot of cdcdata2</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cdcdata2, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Race and Ethnicity</span><span class="st">`</span>, <span class="at">y =</span> overall_percent)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of RSV Vaccine Coverage Using Race and Ethnicity"</span>, <span class="at">x =</span> <span class="st">"Race and Ethnicity"</span>, <span class="at">y =</span> <span class="st">"Percent Vaccinated"</span>) <span class="sc">+</span>  </span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">x =</span>  <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_minimal</span>()    </span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>save_data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>,<span class="st">"cdcdata2.rds"</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(cdcdata2, <span class="at">file =</span> save_data_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="this-section-contributed-by-clarke-miller-1" class="level2">
<h2 class="anchored" data-anchor-id="this-section-contributed-by-clarke-miller-1">This section contributed by Clarke Miller</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call a whole bunch -O- libraries! </span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr) </span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary) </span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) </span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) </span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) </span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(synthpop)</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Okay, I caved and used ChatGPT to help figure this part out.  Especially the sythpop stuff. Blah.</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Load your existing data set (replace 'your_dataset.csv' with your actual file path)</span></span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>existing_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>, <span class="st">"Weekly_Respiratory_Syncytial_Virus__RSV__Vaccination_Coverage_among_Pregnant_Persons_by_Race_and_Ethnicity_20240207.csv"</span>))</span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Week_Ending_Date                     Race.and.Ethnicity Percent
1 09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH       0
2 09/30/2023 12:00:00 AM                              Asian, NH       0
3 09/30/2023 12:00:00 AM                              Black, NH       0
4 09/30/2023 12:00:00 AM                        Hispanic/Latino       0
5 09/30/2023 12:00:00 AM                     Multiple/Other, NH       0
6 09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH       0
  Denominator Date.Order Race.Sort.Order Figure_ID
1          57          1               1         1
2        2897          1               2         1
3        1315          1               3         1
4        7072          1               4         1
5         734          1               5         1
6         121          1               6         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Week_Ending_Date                     Race.and.Ethnicity Percent
1   09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
2   09/30/2023 12:00:00 AM                              Asian, NH     0.0
3   09/30/2023 12:00:00 AM                              Black, NH     0.0
4   09/30/2023 12:00:00 AM                        Hispanic/Latino     0.0
5   09/30/2023 12:00:00 AM                     Multiple/Other, NH     0.0
6   09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
7   09/30/2023 12:00:00 AM                                Overall     0.0
8   09/30/2023 12:00:00 AM                                Unknown     0.0
9   09/30/2023 12:00:00 AM                              White, NH     0.0
10  10/07/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
11  10/07/2023 12:00:00 AM                              Asian, NH     0.0
12  10/07/2023 12:00:00 AM                              Black, NH     0.0
13  10/07/2023 12:00:00 AM                        Hispanic/Latino     0.0
14  10/07/2023 12:00:00 AM                     Multiple/Other, NH     0.1
15  10/07/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
16  10/07/2023 12:00:00 AM                                Overall     0.0
17  10/07/2023 12:00:00 AM                                Unknown     0.0
18  10/07/2023 12:00:00 AM                              White, NH     0.1
19  10/14/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
20  10/14/2023 12:00:00 AM                              Asian, NH     0.1
21  10/14/2023 12:00:00 AM                              Black, NH     0.0
22  10/14/2023 12:00:00 AM                        Hispanic/Latino     0.0
23  10/14/2023 12:00:00 AM                     Multiple/Other, NH     0.2
24  10/14/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
25  10/14/2023 12:00:00 AM                                Overall     0.1
26  10/14/2023 12:00:00 AM                                Unknown     0.0
27  10/14/2023 12:00:00 AM                              White, NH     0.3
28  10/21/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.1
29  10/21/2023 12:00:00 AM                              Asian, NH     0.2
30  10/21/2023 12:00:00 AM                              Black, NH     0.1
31  10/21/2023 12:00:00 AM                        Hispanic/Latino     0.0
32  10/21/2023 12:00:00 AM                     Multiple/Other, NH     0.4
33  10/21/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
34  10/21/2023 12:00:00 AM                                Overall     0.2
35  10/21/2023 12:00:00 AM                                Unknown     0.1
36  10/21/2023 12:00:00 AM                              White, NH     0.6
37  10/28/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.9
38  10/28/2023 12:00:00 AM                              Asian, NH     0.3
39  10/28/2023 12:00:00 AM                              Black, NH     0.2
40  10/28/2023 12:00:00 AM                        Hispanic/Latino     0.1
41  10/28/2023 12:00:00 AM                     Multiple/Other, NH     0.6
42  10/28/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
43  10/28/2023 12:00:00 AM                                Overall     0.5
44  10/28/2023 12:00:00 AM                                Unknown     0.3
45  10/28/2023 12:00:00 AM                              White, NH     1.1
46  11/04/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.7
47  11/04/2023 12:00:00 AM                              Asian, NH     0.7
48  11/04/2023 12:00:00 AM                              Black, NH     0.3
49  11/04/2023 12:00:00 AM                        Hispanic/Latino     0.3
50  11/04/2023 12:00:00 AM                     Multiple/Other, NH     1.1
51  11/04/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.5
52  11/04/2023 12:00:00 AM                                Overall     0.9
53  11/04/2023 12:00:00 AM                                Unknown     0.9
54  11/04/2023 12:00:00 AM                              White, NH     2.0
55  11/11/2023 12:00:00 AM    American Indian / Alaska Native, NH     2.5
56  11/11/2023 12:00:00 AM                              Asian, NH     2.2
57  11/11/2023 12:00:00 AM                              Black, NH     0.6
58  11/11/2023 12:00:00 AM                        Hispanic/Latino     0.6
59  11/11/2023 12:00:00 AM                     Multiple/Other, NH     1.9
60  11/11/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     1.7
61  11/11/2023 12:00:00 AM                                Overall     1.7
62  11/11/2023 12:00:00 AM                                Unknown     1.4
63  11/11/2023 12:00:00 AM                              White, NH     3.0
64  11/18/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.1
65  11/18/2023 12:00:00 AM                              Asian, NH     5.1
66  11/18/2023 12:00:00 AM                              Black, NH     1.3
67  11/18/2023 12:00:00 AM                        Hispanic/Latino     1.6
68  11/18/2023 12:00:00 AM                     Multiple/Other, NH     3.3
69  11/18/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     3.4
70  11/18/2023 12:00:00 AM                                Overall     3.2
71  11/18/2023 12:00:00 AM                                Unknown     2.5
72  11/18/2023 12:00:00 AM                              White, NH     4.8
73  11/25/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.4
74  11/25/2023 12:00:00 AM                              Asian, NH     7.2
75  11/25/2023 12:00:00 AM                              Black, NH     2.2
76  11/25/2023 12:00:00 AM                        Hispanic/Latino     2.8
77  11/25/2023 12:00:00 AM                     Multiple/Other, NH     4.7
78  11/25/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     4.7
79  11/25/2023 12:00:00 AM                                Overall     4.6
80  11/25/2023 12:00:00 AM                                Unknown     3.2
81  11/25/2023 12:00:00 AM                              White, NH     6.4
82  12/02/2023 12:00:00 AM    American Indian / Alaska Native, NH     9.3
83  12/02/2023 12:00:00 AM                              Asian, NH    10.5
84  12/02/2023 12:00:00 AM                              Black, NH     3.9
85  12/02/2023 12:00:00 AM                        Hispanic/Latino     5.2
86  12/02/2023 12:00:00 AM                     Multiple/Other, NH     6.4
87  12/02/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     9.1
88  12/02/2023 12:00:00 AM                                Overall     7.1
89  12/02/2023 12:00:00 AM                                Unknown     4.6
90  12/02/2023 12:00:00 AM                              White, NH     8.9
91  12/09/2023 12:00:00 AM    American Indian / Alaska Native, NH    10.2
92  12/09/2023 12:00:00 AM                              Asian, NH    13.1
93  12/09/2023 12:00:00 AM                              Black, NH     5.3
94  12/09/2023 12:00:00 AM                        Hispanic/Latino     7.1
95  12/09/2023 12:00:00 AM                     Multiple/Other, NH     8.2
96  12/09/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    10.3
97  12/09/2023 12:00:00 AM                                Overall     9.0
98  12/09/2023 12:00:00 AM                                Unknown     5.8
99  12/09/2023 12:00:00 AM                              White, NH    10.8
100 12/16/2023 12:00:00 AM    American Indian / Alaska Native, NH    11.0
101 12/16/2023 12:00:00 AM                              Asian, NH    15.6
102 12/16/2023 12:00:00 AM                              Black, NH     6.4
103 12/16/2023 12:00:00 AM                        Hispanic/Latino     9.0
104 12/16/2023 12:00:00 AM                     Multiple/Other, NH     9.5
105 12/16/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    12.0
106 12/16/2023 12:00:00 AM                                Overall    10.8
107 12/16/2023 12:00:00 AM                                Unknown     7.4
108 12/16/2023 12:00:00 AM                              White, NH    12.5
109 12/23/2023 12:00:00 AM    American Indian / Alaska Native, NH    12.6
110 12/23/2023 12:00:00 AM                              Asian, NH    17.3
111 12/23/2023 12:00:00 AM                              Black, NH     7.2
112 12/23/2023 12:00:00 AM                        Hispanic/Latino    10.4
113 12/23/2023 12:00:00 AM                     Multiple/Other, NH    11.2
114 12/23/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
115 12/23/2023 12:00:00 AM                                Overall    12.2
116 12/23/2023 12:00:00 AM                                Unknown     8.3
117 12/23/2023 12:00:00 AM                              White, NH    14.0
118 12/30/2023 12:00:00 AM    American Indian / Alaska Native, NH    14.2
119 12/30/2023 12:00:00 AM                              Asian, NH    18.5
120 12/30/2023 12:00:00 AM                              Black, NH     7.5
121 12/30/2023 12:00:00 AM                        Hispanic/Latino    11.2
122 12/30/2023 12:00:00 AM                     Multiple/Other, NH    12.0
123 12/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
124 12/30/2023 12:00:00 AM                                Overall    13.0
125 12/30/2023 12:00:00 AM                                Unknown     9.2
126 12/30/2023 12:00:00 AM                              White, NH    14.7
127 01/06/2024 12:00:00 AM    American Indian / Alaska Native, NH    16.2
128 01/06/2024 12:00:00 AM                              Asian, NH    19.8
129 01/06/2024 12:00:00 AM                              Black, NH     8.2
130 01/06/2024 12:00:00 AM                        Hispanic/Latino    12.0
131 01/06/2024 12:00:00 AM                     Multiple/Other, NH    12.9
132 01/06/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
133 01/06/2024 12:00:00 AM                                Overall    14.0
134 01/06/2024 12:00:00 AM                                Unknown    10.4
135 01/06/2024 12:00:00 AM                              White, NH    15.8
136 01/13/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.2
137 01/13/2024 12:00:00 AM                              Asian, NH    21.4
138 01/13/2024 12:00:00 AM                              Black, NH     8.7
139 01/13/2024 12:00:00 AM                        Hispanic/Latino    13.3
140 01/13/2024 12:00:00 AM                     Multiple/Other, NH    14.6
141 01/13/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.6
142 01/13/2024 12:00:00 AM                                Overall    15.3
143 01/13/2024 12:00:00 AM                                Unknown    11.6
144 01/13/2024 12:00:00 AM                              White, NH    17.1
145 01/20/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.0
146 01/20/2024 12:00:00 AM                              Asian, NH    22.3
147 01/20/2024 12:00:00 AM                              Black, NH     9.2
148 01/20/2024 12:00:00 AM                        Hispanic/Latino    13.9
149 01/20/2024 12:00:00 AM                     Multiple/Other, NH    15.4
150 01/20/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.8
151 01/20/2024 12:00:00 AM                                Overall    15.9
152 01/20/2024 12:00:00 AM                                Unknown    12.1
153 01/20/2024 12:00:00 AM                              White, NH    17.8
154 01/27/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.1
155 01/27/2024 12:00:00 AM                              Asian, NH    22.8
156 01/27/2024 12:00:00 AM                              Black, NH     9.5
157 01/27/2024 12:00:00 AM                        Hispanic/Latino    13.9
158 01/27/2024 12:00:00 AM                     Multiple/Other, NH    15.7
159 01/27/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    17.5
160 01/27/2024 12:00:00 AM                                Overall    16.2
161 01/27/2024 12:00:00 AM                                Unknown    12.4
162 01/27/2024 12:00:00 AM                              White, NH    18.2
    Denominator Date.Order Race.Sort.Order Figure_ID
1            57          1               1         1
2          2897          1               2         1
3          1315          1               3         1
4          7072          1               4         1
5           734          1               5         1
6           121          1               6         1
7         19168          1               7         1
8           899          1               8         1
9          6073          1               9         1
10           68          2               1         1
11         3339          2               2         1
12         1547          2               3         1
13         8149          2               4         1
14          867          2               5         1
15          139          2               6         1
16        22142          2               7         1
17         1072          2               8         1
18         6961          2               9         1
19           82          3               1         1
20         3806          3               2         1
21         1795          3               3         1
22         9200          3               4         1
23          995          3               5         1
24          154          3               6         1
25        25071          3               7         1
26         1217          3               8         1
27         7822          3               9         1
28           92          4               1         1
29         4274          4               2         1
30         2060          4               3         1
31        10307          4               4         1
32         1128          4               5         1
33          174          4               6         1
34        28105          4               7         1
35         1365          4               8         1
36         8705          4               9         1
37          106          5               1         1
38         4715          5               2         1
39         2297          5               3         1
40        11403          5               4         1
41         1256          5               5         1
42          193          5               6         1
43        31080          5               7         1
44         1528          5               8         1
45         9582          5               9         1
46          115          6               1         1
47         5115          6               2         1
48         2550          6               3         1
49        12446          6               4         1
50         1395          6               5         1
51          216          6               6         1
52        34004          6               7         1
53         1700          6               8         1
54        10467          6               9         1
55          119          7               1         1
56         5557          7               2         1
57         2788          7               3         1
58        13525          7               4         1
59         1517          7               5         1
60          238          7               6         1
61        36948          7               7         1
62         1867          7               8         1
63        11337          7               9         1
64          132          8               1         1
65         6009          8               2         1
66         3047          8               3         1
67        14619          8               4         1
68         1642          8               5         1
69          262          8               6         1
70        40018          8               7         1
71         2059          8               8         1
72        12248          8               9         1
73          140          9               1         1
74         6447          9               2         1
75         3288          9               3         1
76        15637          9               4         1
77         1782          9               5         1
78          278          9               6         1
79        42962          9               7         1
80         2235          9               8         1
81        13155          9               9         1
82          150         10               1         1
83         6845         10               2         1
84         3502         10               3         1
85        16559         10               4         1
86         1909         10               5         1
87          287         10               6         1
88        45609         10               7         1
89         2390         10               8         1
90        13967         10               9         1
91          157         11               1         1
92         7251         11               2         1
93         3743         11               3         1
94        17541         11               4         1
95         2031         11               5         1
96          301         11               6         1
97        48426         11               7         1
98         2571         11               8         1
99        14831         11               9         1
100         173         12               1         1
101        7642         12               2         1
102        3966         12               3         1
103       18478         12               4         1
104        2138         12               5         1
105         317         12               6         1
106       51174         12               7         1
107        2781         12               8         1
108       15679         12               9         1
109         182         13               1         1
110        8051         13               2         1
111        4191         13               3         1
112       19473         13               4         1
113        2263         13               5         1
114         335         13               6         1
115       54036         13               7         1
116        2983         13               8         1
117       16558         13               9         1
118         190         14               1         1
119        8421         14               2         1
120        4443         14               3         1
121       20474         14               4         1
122        2396         14               5         1
123         359         14               6         1
124       56949         14               7         1
125        3164         14               8         1
126       17502         14               9         1
127         198         15               1         1
128        8775         15               2         1
129        4672         15               3         1
130       21402         15               4         1
131        2527         15               5         1
132         372         15               6         1
133       59648         15               7         1
134        3337         15               8         1
135       18365         15               9         1
136         203         16               1         1
137        9140         16               2         1
138        4879         16               3         1
139       22262         16               4         1
140        2629         16               5         1
141         391         16               6         1
142       62215         16               7         1
143        3520         16               8         1
144       19191         16               9         1
145         212         17               1         1
146        9513         17               2         1
147        5048         17               3         1
148       23261         17               4         1
149        2742         17               5         1
150         405         17               6         1
151       64966         17               7         1
152        3707         17               8         1
153       20078         17               9         1
154         222         18               1         1
155        9889         18               2         1
156        5229         18               3         1
157       24190         18               4         1
158        2842         18               5         1
159         423         18               6         1
160       67666         18               7         1
161        3888         18               8         1
162       20983         18               9         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filtering Unknown in Column Race and Ethnicity</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>clean_existing_data <span class="ot">&lt;-</span> existing_data <span class="sc">%&gt;%</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Race.and.Ethnicity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Unknown"</span>,<span class="st">"Overall"</span>))</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the filtered data</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(clean_existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Week_Ending_Date                     Race.and.Ethnicity Percent
1   09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
2   09/30/2023 12:00:00 AM                              Asian, NH     0.0
3   09/30/2023 12:00:00 AM                              Black, NH     0.0
4   09/30/2023 12:00:00 AM                        Hispanic/Latino     0.0
5   09/30/2023 12:00:00 AM                     Multiple/Other, NH     0.0
6   09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
7   09/30/2023 12:00:00 AM                              White, NH     0.0
8   10/07/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
9   10/07/2023 12:00:00 AM                              Asian, NH     0.0
10  10/07/2023 12:00:00 AM                              Black, NH     0.0
11  10/07/2023 12:00:00 AM                        Hispanic/Latino     0.0
12  10/07/2023 12:00:00 AM                     Multiple/Other, NH     0.1
13  10/07/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
14  10/07/2023 12:00:00 AM                              White, NH     0.1
15  10/14/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.0
16  10/14/2023 12:00:00 AM                              Asian, NH     0.1
17  10/14/2023 12:00:00 AM                              Black, NH     0.0
18  10/14/2023 12:00:00 AM                        Hispanic/Latino     0.0
19  10/14/2023 12:00:00 AM                     Multiple/Other, NH     0.2
20  10/14/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
21  10/14/2023 12:00:00 AM                              White, NH     0.3
22  10/21/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.1
23  10/21/2023 12:00:00 AM                              Asian, NH     0.2
24  10/21/2023 12:00:00 AM                              Black, NH     0.1
25  10/21/2023 12:00:00 AM                        Hispanic/Latino     0.0
26  10/21/2023 12:00:00 AM                     Multiple/Other, NH     0.4
27  10/21/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
28  10/21/2023 12:00:00 AM                              White, NH     0.6
29  10/28/2023 12:00:00 AM    American Indian / Alaska Native, NH     0.9
30  10/28/2023 12:00:00 AM                              Asian, NH     0.3
31  10/28/2023 12:00:00 AM                              Black, NH     0.2
32  10/28/2023 12:00:00 AM                        Hispanic/Latino     0.1
33  10/28/2023 12:00:00 AM                     Multiple/Other, NH     0.6
34  10/28/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.0
35  10/28/2023 12:00:00 AM                              White, NH     1.1
36  11/04/2023 12:00:00 AM    American Indian / Alaska Native, NH     1.7
37  11/04/2023 12:00:00 AM                              Asian, NH     0.7
38  11/04/2023 12:00:00 AM                              Black, NH     0.3
39  11/04/2023 12:00:00 AM                        Hispanic/Latino     0.3
40  11/04/2023 12:00:00 AM                     Multiple/Other, NH     1.1
41  11/04/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     0.5
42  11/04/2023 12:00:00 AM                              White, NH     2.0
43  11/11/2023 12:00:00 AM    American Indian / Alaska Native, NH     2.5
44  11/11/2023 12:00:00 AM                              Asian, NH     2.2
45  11/11/2023 12:00:00 AM                              Black, NH     0.6
46  11/11/2023 12:00:00 AM                        Hispanic/Latino     0.6
47  11/11/2023 12:00:00 AM                     Multiple/Other, NH     1.9
48  11/11/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     1.7
49  11/11/2023 12:00:00 AM                              White, NH     3.0
50  11/18/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.1
51  11/18/2023 12:00:00 AM                              Asian, NH     5.1
52  11/18/2023 12:00:00 AM                              Black, NH     1.3
53  11/18/2023 12:00:00 AM                        Hispanic/Latino     1.6
54  11/18/2023 12:00:00 AM                     Multiple/Other, NH     3.3
55  11/18/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     3.4
56  11/18/2023 12:00:00 AM                              White, NH     4.8
57  11/25/2023 12:00:00 AM    American Indian / Alaska Native, NH     6.4
58  11/25/2023 12:00:00 AM                              Asian, NH     7.2
59  11/25/2023 12:00:00 AM                              Black, NH     2.2
60  11/25/2023 12:00:00 AM                        Hispanic/Latino     2.8
61  11/25/2023 12:00:00 AM                     Multiple/Other, NH     4.7
62  11/25/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     4.7
63  11/25/2023 12:00:00 AM                              White, NH     6.4
64  12/02/2023 12:00:00 AM    American Indian / Alaska Native, NH     9.3
65  12/02/2023 12:00:00 AM                              Asian, NH    10.5
66  12/02/2023 12:00:00 AM                              Black, NH     3.9
67  12/02/2023 12:00:00 AM                        Hispanic/Latino     5.2
68  12/02/2023 12:00:00 AM                     Multiple/Other, NH     6.4
69  12/02/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH     9.1
70  12/02/2023 12:00:00 AM                              White, NH     8.9
71  12/09/2023 12:00:00 AM    American Indian / Alaska Native, NH    10.2
72  12/09/2023 12:00:00 AM                              Asian, NH    13.1
73  12/09/2023 12:00:00 AM                              Black, NH     5.3
74  12/09/2023 12:00:00 AM                        Hispanic/Latino     7.1
75  12/09/2023 12:00:00 AM                     Multiple/Other, NH     8.2
76  12/09/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    10.3
77  12/09/2023 12:00:00 AM                              White, NH    10.8
78  12/16/2023 12:00:00 AM    American Indian / Alaska Native, NH    11.0
79  12/16/2023 12:00:00 AM                              Asian, NH    15.6
80  12/16/2023 12:00:00 AM                              Black, NH     6.4
81  12/16/2023 12:00:00 AM                        Hispanic/Latino     9.0
82  12/16/2023 12:00:00 AM                     Multiple/Other, NH     9.5
83  12/16/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    12.0
84  12/16/2023 12:00:00 AM                              White, NH    12.5
85  12/23/2023 12:00:00 AM    American Indian / Alaska Native, NH    12.6
86  12/23/2023 12:00:00 AM                              Asian, NH    17.3
87  12/23/2023 12:00:00 AM                              Black, NH     7.2
88  12/23/2023 12:00:00 AM                        Hispanic/Latino    10.4
89  12/23/2023 12:00:00 AM                     Multiple/Other, NH    11.2
90  12/23/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
91  12/23/2023 12:00:00 AM                              White, NH    14.0
92  12/30/2023 12:00:00 AM    American Indian / Alaska Native, NH    14.2
93  12/30/2023 12:00:00 AM                              Asian, NH    18.5
94  12/30/2023 12:00:00 AM                              Black, NH     7.5
95  12/30/2023 12:00:00 AM                        Hispanic/Latino    11.2
96  12/30/2023 12:00:00 AM                     Multiple/Other, NH    12.0
97  12/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
98  12/30/2023 12:00:00 AM                              White, NH    14.7
99  01/06/2024 12:00:00 AM    American Indian / Alaska Native, NH    16.2
100 01/06/2024 12:00:00 AM                              Asian, NH    19.8
101 01/06/2024 12:00:00 AM                              Black, NH     8.2
102 01/06/2024 12:00:00 AM                        Hispanic/Latino    12.0
103 01/06/2024 12:00:00 AM                     Multiple/Other, NH    12.9
104 01/06/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    13.4
105 01/06/2024 12:00:00 AM                              White, NH    15.8
106 01/13/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.2
107 01/13/2024 12:00:00 AM                              Asian, NH    21.4
108 01/13/2024 12:00:00 AM                              Black, NH     8.7
109 01/13/2024 12:00:00 AM                        Hispanic/Latino    13.3
110 01/13/2024 12:00:00 AM                     Multiple/Other, NH    14.6
111 01/13/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.6
112 01/13/2024 12:00:00 AM                              White, NH    17.1
113 01/20/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.0
114 01/20/2024 12:00:00 AM                              Asian, NH    22.3
115 01/20/2024 12:00:00 AM                              Black, NH     9.2
116 01/20/2024 12:00:00 AM                        Hispanic/Latino    13.9
117 01/20/2024 12:00:00 AM                     Multiple/Other, NH    15.4
118 01/20/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    16.8
119 01/20/2024 12:00:00 AM                              White, NH    17.8
120 01/27/2024 12:00:00 AM    American Indian / Alaska Native, NH    17.1
121 01/27/2024 12:00:00 AM                              Asian, NH    22.8
122 01/27/2024 12:00:00 AM                              Black, NH     9.5
123 01/27/2024 12:00:00 AM                        Hispanic/Latino    13.9
124 01/27/2024 12:00:00 AM                     Multiple/Other, NH    15.7
125 01/27/2024 12:00:00 AM Native Hawaiian / Pacific Islander, NH    17.5
126 01/27/2024 12:00:00 AM                              White, NH    18.2
    Denominator Date.Order Race.Sort.Order Figure_ID
1            57          1               1         1
2          2897          1               2         1
3          1315          1               3         1
4          7072          1               4         1
5           734          1               5         1
6           121          1               6         1
7          6073          1               9         1
8            68          2               1         1
9          3339          2               2         1
10         1547          2               3         1
11         8149          2               4         1
12          867          2               5         1
13          139          2               6         1
14         6961          2               9         1
15           82          3               1         1
16         3806          3               2         1
17         1795          3               3         1
18         9200          3               4         1
19          995          3               5         1
20          154          3               6         1
21         7822          3               9         1
22           92          4               1         1
23         4274          4               2         1
24         2060          4               3         1
25        10307          4               4         1
26         1128          4               5         1
27          174          4               6         1
28         8705          4               9         1
29          106          5               1         1
30         4715          5               2         1
31         2297          5               3         1
32        11403          5               4         1
33         1256          5               5         1
34          193          5               6         1
35         9582          5               9         1
36          115          6               1         1
37         5115          6               2         1
38         2550          6               3         1
39        12446          6               4         1
40         1395          6               5         1
41          216          6               6         1
42        10467          6               9         1
43          119          7               1         1
44         5557          7               2         1
45         2788          7               3         1
46        13525          7               4         1
47         1517          7               5         1
48          238          7               6         1
49        11337          7               9         1
50          132          8               1         1
51         6009          8               2         1
52         3047          8               3         1
53        14619          8               4         1
54         1642          8               5         1
55          262          8               6         1
56        12248          8               9         1
57          140          9               1         1
58         6447          9               2         1
59         3288          9               3         1
60        15637          9               4         1
61         1782          9               5         1
62          278          9               6         1
63        13155          9               9         1
64          150         10               1         1
65         6845         10               2         1
66         3502         10               3         1
67        16559         10               4         1
68         1909         10               5         1
69          287         10               6         1
70        13967         10               9         1
71          157         11               1         1
72         7251         11               2         1
73         3743         11               3         1
74        17541         11               4         1
75         2031         11               5         1
76          301         11               6         1
77        14831         11               9         1
78          173         12               1         1
79         7642         12               2         1
80         3966         12               3         1
81        18478         12               4         1
82         2138         12               5         1
83          317         12               6         1
84        15679         12               9         1
85          182         13               1         1
86         8051         13               2         1
87         4191         13               3         1
88        19473         13               4         1
89         2263         13               5         1
90          335         13               6         1
91        16558         13               9         1
92          190         14               1         1
93         8421         14               2         1
94         4443         14               3         1
95        20474         14               4         1
96         2396         14               5         1
97          359         14               6         1
98        17502         14               9         1
99          198         15               1         1
100        8775         15               2         1
101        4672         15               3         1
102       21402         15               4         1
103        2527         15               5         1
104         372         15               6         1
105       18365         15               9         1
106         203         16               1         1
107        9140         16               2         1
108        4879         16               3         1
109       22262         16               4         1
110        2629         16               5         1
111         391         16               6         1
112       19191         16               9         1
113         212         17               1         1
114        9513         17               2         1
115        5048         17               3         1
116       23261         17               4         1
117        2742         17               5         1
118         405         17               6         1
119       20078         17               9         1
120         222         18               1         1
121        9889         18               2         1
122        5229         18               3         1
123       24190         18               4         1
124        2842         18               5         1
125         423         18               6         1
126       20983         18               9         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore clean_cdc_data</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_existing_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Week_Ending_Date                     Race.and.Ethnicity Percent
1 09/30/2023 12:00:00 AM    American Indian / Alaska Native, NH       0
2 09/30/2023 12:00:00 AM                              Asian, NH       0
3 09/30/2023 12:00:00 AM                              Black, NH       0
4 09/30/2023 12:00:00 AM                        Hispanic/Latino       0
5 09/30/2023 12:00:00 AM                     Multiple/Other, NH       0
6 09/30/2023 12:00:00 AM Native Hawaiian / Pacific Islander, NH       0
  Denominator Date.Order Race.Sort.Order Figure_ID
1          57          1               1         1
2        2897          1               2         1
3        1315          1               3         1
4        7072          1               4         1
5         734          1               5         1
6         121          1               6         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mutate!</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>clean_existing_data <span class="ot">&lt;-</span> clean_existing_data <span class="sc">%&gt;%</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Numerator =</span> Percent<span class="sc">/</span> <span class="dv">100</span> <span class="sc">*</span> Denominator) </span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>cdcdata3 <span class="ot">&lt;-</span> clean_existing_data <span class="sc">%&gt;%</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(Race.and.Ethnicity) <span class="sc">%&gt;%</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">total_denom =</span> <span class="fu">sum</span>(Denominator),<span class="at">total_numerator =</span> <span class="fu">sum</span>(Numerator), <span class="at">overall_percent=</span> total_numerator<span class="sc">/</span>total_denom <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcdata3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  Race.and.Ethnicity                 total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;int&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cdcdata3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  Race.and.Ethnicity                 total_denom total_numerator overall_percent
  &lt;chr&gt;                                    &lt;int&gt;           &lt;dbl&gt;           &lt;dbl&gt;
1 American Indian / Alaska Native, …        2598            264.           10.2 
2 Asian, NH                               117686          14836.           12.6 
3 Black, NH                                60360           3135.            5.19
4 Hispanic/Latino                         285998          21014.            7.35
5 Multiple/Other, NH                       32793           2808.            8.56
6 Native Hawaiian / Pacific Islande…        4965            472.            9.51
7 White, NH                               243504          25439.           10.4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>CDC_plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cdcdata3, <span class="fu">aes</span>(<span class="at">x =</span> Race.and.Ethnicity, <span class="at">y =</span> overall_percent)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of RSV Vaccine Coverage Using Race and Ethnicity (Original Data)"</span>, <span class="at">x =</span> <span class="st">"Race and Ethnicity"</span>, <span class="at">y =</span> <span class="st">"Percent Vacinated"</span>) <span class="sc">+</span>  </span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">x =</span>  <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_minimal</span>()    </span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>CDC_plot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>save_data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>,<span class="st">"cdcdata3.rds"</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(cdcdata3, <span class="at">file =</span> save_data_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call a whole bunch -O- libraries! </span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) </span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr) </span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary) </span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) </span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) </span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) </span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(synthpop)</span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-16"><a href="#cb114-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Use synthpop to generate synthetic data</span></span>
<span id="cb114-17"><a href="#cb114-17" aria-hidden="true" tabindex="-1"></a>synthetic_data <span class="ot">&lt;-</span> <span class="fu">syn</span>(cdcdata3, <span class="at">method =</span> <span class="st">"cart"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>CAUTION: Your data set has fewer observations (7) than we advise.
We suggest that there should be at least 140 observations
(100 + 10 * no. of variables used in modelling the data).
Please check your synthetic data carefully with functions
compare(), utility.tab(), and utility.gen().


Variable(s): Race.and.Ethnicity have been changed for synthesis from character to factor.

Synthesis
-----------
 Race.and.Ethnicity total_denom total_numerator overall_percent</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the synthetic data</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(synthetic_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$call
syn(data = cdcdata3, method = "cart")

$m
[1] 1

$syn
                      Race.and.Ethnicity total_denom total_numerator
1                              White, NH       32793        3135.485
2                              Black, NH        2598       21014.185
3                              Black, NH       32793       25439.054
4                              Asian, NH        2598       25439.054
5                     Multiple/Other, NH      243504       21014.185
6                        Hispanic/Latino        2598       21014.185
7 Native Hawaiian / Pacific Islander, NH       60360        3135.485
  overall_percent
1        7.347669
2        8.563096
3        9.508056
4        5.194640
5       12.606570
6        5.194640
7       10.154273

$method
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
          "sample"             "cart"             "cart"             "cart" 

$visit.sequence
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
                 1                  2                  3                  4 

$predictor.matrix
                   Race.and.Ethnicity total_denom total_numerator
Race.and.Ethnicity                  0           0               0
total_denom                         1           0               0
total_numerator                     1           1               0
overall_percent                     1           1               1
                   overall_percent
Race.and.Ethnicity               0
total_denom                      0
total_numerator                  0
overall_percent                  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(synthetic_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
($call) syn(data = cdcdata3, method = "cart")

Number of synthesised data sets: 
($m)  1 

First rows of synthesised data set: 
($syn)
  Race.and.Ethnicity total_denom total_numerator overall_percent
1          White, NH       32793        3135.485        7.347669
2          Black, NH        2598       21014.185        8.563096
3          Black, NH       32793       25439.054        9.508056
4          Asian, NH        2598       25439.054        5.194640
5 Multiple/Other, NH      243504       21014.185       12.606570
6    Hispanic/Latino        2598       21014.185        5.194640
...

Synthesising methods: 
($method)
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
          "sample"             "cart"             "cart"             "cart" 

Order of synthesis: 
($visit.sequence)
Race.and.Ethnicity        total_denom    total_numerator    overall_percent 
                 1                  2                  3                  4 

Matrix of predictors: 
($predictor.matrix)
                   Race.and.Ethnicity total_denom total_numerator
Race.and.Ethnicity                  0           0               0
total_denom                         1           0               0
total_numerator                     1           1               0
overall_percent                     1           1               1
                   overall_percent
Race.and.Ethnicity               0
total_denom                      0
total_numerator                  0
overall_percent                  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>save_data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdcdata-exercise"</span>,<span class="st">"synthetic_data.csv"</span>)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(synthetic_data, <span class="at">file =</span> save_data_location)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="fu">compare.synds</span>(synthetic_data,cdcdata3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Warning: You are creating tables with 7 cells from 7 observations.
Results from sparse tables may be unreliable.
Warning: You are creating tables with 4 cells from 7 observations.
Results from sparse tables may be unreliable.
Warning: You are creating tables with 5 cells from 7 observations.
Results from sparse tables may be unreliable.
Warning: You are creating tables with 5 cells from 7 observations.
Results from sparse tables may be unreliable.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Comparing percentages observed with synthetic</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Selected utility measures:
                       pMSE   S_pMSE df
Race.and.Ethnicity 0.023810 0.444444  6
total_denom        0.021429 0.800000  3
total_numerator    0.101190 2.833333  4
overall_percent    0.011905 0.333333  4</code></pre>
</div>
</div>
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<p>Stashed changes</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>